# 教室分贝检测器

## 项目介绍

教室分贝检测器是一个互动网页应用，旨在鼓励学生在课堂上进行大声朗读训练。应用通过麦克风检测教室声音分贝，当声音达到设定阈值时，将产生"火焰能量"，用于培育虚拟树木。这种游戏化的方式使朗读训练更加有趣和有动力。

![应用截图](images/screenshot.png)

## 主要功能

### 1. 分贝检测与显示
- 实时监测环境声音并显示当前分贝值
- 直观的分贝条显示当前声音强度
- 表情和文字状态提示，反映当前声音状态

### 2. 火焰能量系统
- 当声音超过阈值时，积累火焰能量
- 能量达到100%时，生成一个火焰，飞向成长中的树木
- 可调节的火焰生成速度（0.5秒-25秒/个）

### 3. 树木成长系统
- 每棵树有三个成长阶段
- 每个阶段需要12个火焰能量
- 当一棵树完全成长后，会自动种植新树
- 声音长时间低于阈值，树木可能会退化

### 4. 提醒和警告系统
- 当声音低于阈值3秒后，播放语音提醒
- 当声音过大时，显示警告提示保护听力
- 可禁用大声警告功能

### 5. 其他功能
- 全屏模式
- 重置功能
- 累计朗读时间显示
- 历史最高火焰数记录（本地存储）

## 使用指南

### 基本设置
1. 点击"开始检测"按钮启动麦克风
2. 调整分贝阈值滑块（默认60dB）
3. 调整火焰生成速度（快-慢）

### 最佳实践
- 建议将分贝阈值设置在55-65dB之间，适合正常朗读声音
- 使用前建议测试麦克风，确保声音检测正常
- 对于低年级学生，可以将火焰生成速度调快一些，增强互动性
- 对于高年级学生，可以将生成速度调慢，培养持久朗读能力

### 场景建议
- 课前五分钟的朗读热身
- 语文课文朗读训练
- 英语口语练习
- 诗词背诵活动

## 项目文件结构

```
/
├── index.html          # 主HTML文件
├── styles.css          # 样式文件
├── script.js           # 主JavaScript文件
├── images/             # 图片资源
│   └── warning.svg     # 警告图标
├── sounds/             # 音效文件
│   ├── warning.mp3     # 警告音效
│   └── reminders/      # 提醒音效目录
│       ├── 音频1.MP3   # 提醒音效1
│       ├── 音频2.MP3   # 提醒音效2
│       └── ...
└── 成长图/             # 树木成长图片
    ├── 第一阶段的成长图.png
    ├── 第二阶段的成长图.png
    └── 第三阶段的成长图.png
```

## 技术实现

- **HTML5**：页面结构和麦克风API
- **CSS3**：响应式设计和动画效果
- **JavaScript**：声音分析和交互逻辑
- **Web Audio API**：声音采集和分析
- **LocalStorage**：保存历史记录

## 浏览器兼容性

应用支持以下现代浏览器：
- Chrome (推荐)
- Firefox
- Edge
- Safari (部分功能可能受限)

## 故障排除

1. **无法访问麦克风**
   - 确保已在浏览器中授予麦克风权限
   - 检查设备是否有可用麦克风

2. **声音检测不准确**
   - 调整麦克风位置，避免太近或太远
   - 减少环境背景噪音
   - 调整分贝阈值以适应当前环境

3. **音效无法播放**
   - 确保浏览器未禁用自动播放
   - 检查音频文件是否正确加载

4. **页面卡顿**
   - 关闭其他占用资源的应用程序
   - 使用最新版本的Chrome浏览器
   - 降低火焰生成速度

## 自定义提示音效

可以自定义提醒音效：
1. 准备MP3格式的语音提示文件（2-5秒长）
2. 将文件放入`sounds/reminders/`目录
3. 遵循命名规则（音频X.MP3，X为数字）
4. 刷新页面即可加载新音效 